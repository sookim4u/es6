<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>decorator</title>
</head>
<body>
	<script src="../common/js/calc_common.js"></script>
	<script src="./js/abstract_expression.js"></script>
	<script src="./js/abstract_operation_expression.js"></script>
	<script src="./js/abstract_decorator_expression.js"></script>
	<script src="./js/calculator.js"></script>
	<script src="./js/add_operation_expression.js"></script>
	<script src="./js/multiply_operation_expression.js"></script>
	<script src="./js/substract_operation_expression.js"></script>
	<script src="./js/divide_operation_expression.js"></script>
	<script src="./js/number_expression.js"></script>
	<script src="./js/frac_decorator_expression.js"></script>
	<script src="./js/pow_decorator_expression.js"></script>
	<script src="./js/sqrt_decorator_expression.js"></script>
	<script>
		let decorator = CALC.decorator;
		
		let calculator = new decorator.Calculator();
	
		let firstNumber = 100;
		let secondNumber = 20;
	
		let firstNumberEquation = new decorator.NumberExpression(firstNumber);
		
		calculator.setExpression(firstNumberEquation);		
		console.log("firstNumber = " + calculator.calculate());
		
		let secondNumberEquation = new decorator.NumberExpression(secondNumber);
		
		calculator.setExpression(secondNumberEquation);		
		console.log("secondNumber = " + calculator.calculate());
		
		let addOperatorEquation = new decorator.AddOperationExpression();
		addOperatorEquation.addOperandExpression(firstNumberEquation);
		addOperatorEquation.addOperandExpression(secondNumberEquation);
		
		calculator.setExpression(addOperatorEquation);		
		console.log(firstNumber + " + " + secondNumber + " = " + calculator.calculate());
				
		calculator.setExpression(new decorator.SqrtDecoratorExpression(addOperatorEquation));		
		console.log("SQRT(" + firstNumber + " + " + secondNumber + ") = " + calculator.calculate());
		
		calculator.setExpression(new decorator.FracDecoratorExpression(addOperatorEquation));		
		console.log("FRAC(" + firstNumber + " + " + secondNumber + ") = " + calculator.calculate());
		
		let exponent = 2;
		calculator.setExpression(new decorator.PowDecoratorExpression(addOperatorEquation, exponent));		
		console.log("POW(" + firstNumber + " + " + secondNumber + ") = " + calculator.calculate());
	</script>
</body>
</html>
